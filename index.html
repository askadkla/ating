<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link rel="stylesheet" href="css/style.css">
    <script id="jqbb" src="https://libs.baidu.com/jquery/1.11.1/jquery.min.js"></script>
    <style>
        body{margin:0;padding:0;overflow: hidden;} .city{width:100%;position:fixed;bottom:
                0px;z-index: 100;} .city img{width: 100%;}
        audio{
            opacity: 0;
        }
        
        /* æ–°å¢éŸ³ä¹æ§åˆ¶æŒ‰é’®æ ·å¼ */
        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10000;
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        
        .music-control:hover {
            transform: scale(1.1);
            background: rgba(255,255,255,0.3);
        }
        
        .music-icon {
            font-size: 24px;
            color: white;
            transition: all 0.3s ease;
        }
        
        .music-control.playing .music-icon {
            color: #ff6b6b;
        }
        
        .music-tooltip {
            position: absolute;
            top: 60px;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }
        
        .music-control:hover .music-tooltip {
            opacity: 1;
        }
    </style>
    <title>
        ç”Ÿæ—¥å¿«ä¹
    </title>
    <!-- å¼¹çª—æ ·å¼ -->
    <link href="modal.css" rel="stylesheet"/>

    <style type="text/css">
        html,
        body {
            background-color: black;
            overflow: hidden;
            user-select: none;
            margin: 0;
        }
    </style>
</head>
<body onselectstart="return false">
    <div class="star comet"></div>
    <script src="js/index.js"></script>
  
    <!-- æ–°å¢éŸ³ä¹æ§åˆ¶æŒ‰é’® -->
    <div class="music-control" id="musicControl">
        <div class="music-icon">ğŸµ</div>
        <div class="music-tooltip">ç‚¹å‡»æ§åˆ¶éŸ³ä¹</div>
    </div>

    <!--å¯¹è¯éƒ¨åˆ†-->
    <div class="share_img"><img src="img/xin.png" alt=""></div>

    <div class="page_one">
        <div class="content">
            <div class="text_wrapper">
                <img class="xin" src="img/xin.png" alt="" />
                <div class="text" >
                          é˜¿å©·ï¼Œç”Ÿæ—¥å¿«ä¹ï¼Œæ„¿æ„çœ‹åœºä¸“å±äºä½ çš„çƒŸèŠ±ç§€å—ï¼ï¼ï¼
                </div>
            </div>
        </div>
        <div class="btn-groups">
            <div class="heart-btn">
                <div id="yes" class="btn btn-a"><span>å¼€å§‹å§</span></div>
            </div>
            <div id="no" class="btn btn-b"><span>ä½ èµ°å¼€</span></div>
        </div>
    </div>
    <!--çƒŸèŠ±éƒ¨åˆ†-->
    <canvas id='cas' style="background-color:rgba(0,5,24,1); z-index: 9999;">
        æµè§ˆå™¨ä¸æ”¯æŒcanvas
    </canvas>
    <div class="city">
        <img src="img/city.png" alt="" />
    </div>
    <img src="img/moon.png" alt="" id="moon" style="visibility: hidden;" />
    <div class="blessings-grid">
        <div class="shape short">å®¶äººå¥åº·</div>
        <div class="shape short">äº‹ä¸šé¡ºé‚</div>
        <div class="shape short">ç‹‚åƒä¸èƒ–</div>
        <div class="shape short">è‡ªç”±æš´å¯Œ</div>
        <div class="shape short">å¹³å®‰å–œä¹</div>
        <div class="shape short">å¯å¯çˆ±çˆ±</div>
        <div class="shape short">ä¸‡äº‹èƒœæ„</div>
        <div class="shape short">ä¸€ç›´é™ªä½ </div>
        <div class="shape long">æ„¿æ—¶å…‰<br>å¾…ä½ ä»¥æ¸©æŸ”ï¼Œå²æœˆ<br>äºˆä½ ä»¥é™å¥½</div>
        <div class="shape long">å¾€åä½™ç”Ÿï¼Œ<br>å¹³å®‰å¥åº·ï¼Œ<br>å–œä¹æ— å¿§</div>
        <div class="shape long">å¸Œæœ›æ¸©æš–å’Œçˆ±<br>ï¼Œä¸€ç›´é™ªä¼´<br>åœ¨ä½ èº«è¾¹</div>
        <div class="shape medium">æ–°çš„ä¸€å²ï¼Œ<br>å‰æ–¹çš†æ˜¯å¦é€”ï¼Œ<br>æœªæ¥å……æ»¡å¸Œæœ›</div>
        <div class="shape medium">æ—¶å…‰ä¸è€ï¼Œ<br>æˆ‘ä»¬ä¸æ•£ï¼Œ<br>æƒ…è°Šå¸¸åœ¨å¿ƒé—´</div>
        <div class="shape medium">æ–°çš„ä¸€å²ï¼Œ<br>æ„¿ä½ ä¾æ—§<br>æ¸©æš–å¦‚åˆï¼Œ<br>é—ªé—ªå‘å…‰</div>
        <div class="shape medium">æ„¿ä½ çš„äº‹ä¸š<br>ä¹˜é£ç ´æµªï¼Œ<br>æ”¶è·æ»¡æ»¡æˆå°±</div>
        <div class="shape medium">æ„¿å¥½è¿å¸¸ä¼´ï¼Œ<br>æœºé‡é¢‘ç°ï¼Œ<br>æ¢¦æƒ³çš†å¯å®ç°</div>
        <div class="shape medium">æ„¿ä½ äº«å—<br>ç¾é£Ÿæ— å¿§ï¼Œ<br>ä¿æŒå¥åº·æ´»åŠ›</div>
        <div class="shape long">æ„¿ä½ æœ‰<br>è¯´èµ°å°±èµ°<br>çš„å‹‡æ°”ï¼Œ<br>ä¹Ÿæœ‰äº«å—<br>æ—…é€”çš„å¿ƒæƒ…</div>
        <div class="shape long">æ„¿ä½ æœ‰èƒ½åš<br>è‡ªå·±çš„è‡ªç”±ï¼Œ<br>å’Œæ•¢åš<br>è‡ªå·±çš„èƒ†é‡</div>
        <div class="shape medium">æ„¿ä½ çš„ç”Ÿæ´»<br>å……æ»¡å°ç¡®å¹¸ï¼Œ<br>å¯¹æœªæ¥æ°¸è¿œ<br>å……æ»¡æœŸå¾…</div>
        <div class="shape medium">æ„¿ç”Ÿæ´»ç»™ä½ <br>æ»¡æ»¡çš„ç”œèœœæƒŠå–œï¼Œ<br>å¿«ä¹åŠ å€</div>
    </div>

    <!--éŸ³ä¹éƒ¨åˆ†-->
    <audio id="birthdayMusic" loop>
        <!-- ä½¿ç”¨å¤–éƒ¨æ‰˜ç®¡çš„ç”Ÿæ—¥éŸ³ä¹ -->
        <source src="https://www.bensound.com/bensound-music/bensound-happyrock.mp3" type="audio/mpeg">
        <!-- å¤‡ç”¨éŸ³ä¹æº -->
        <source src="https://assets.mixkit.co/music/preview/mixkit-birthday-happy-3.mp3" type="audio/mpeg">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾
    </audio>

    <script src="jquery.min.js"></script>
    <script src="fire.js"></script>
    <script src="talk.js"></script>

    <!-- æ–°å¢éŸ³ä¹æ§åˆ¶è„šæœ¬ -->
    <script>
        $(document).ready(function() {
            // è·å–éŸ³é¢‘å…ƒç´ å’Œæ§åˆ¶æŒ‰é’®
            const audio = document.getElementById('birthdayMusic');
            const musicControl = document.getElementById('musicControl');
            const musicIcon = musicControl.querySelector('.music-icon');
            
            // åˆå§‹çŠ¶æ€ï¼šéŸ³ä¹æš‚åœ
            audio.pause();
            let isPlaying = false;
            
            // éŸ³ä¹æ§åˆ¶æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            musicControl.addEventListener('click', function() {
                if (isPlaying) {
                    // æš‚åœéŸ³ä¹
                    audio.pause();
                    musicIcon.textContent = 'ğŸ”‡';
                    musicControl.classList.remove('playing');
                    isPlaying = false;
                } else {
                    // æ’­æ”¾éŸ³ä¹
                    audio.play().then(() => {
                        musicIcon.textContent = 'ğŸµ';
                        musicControl.classList.add('playing');
                        isPlaying = true;
                    }).catch(error => {
                        console.log('æ’­æ”¾å¤±è´¥ï¼Œå¯èƒ½éœ€è¦ç”¨æˆ·äº¤äº’:', error);
                        // å¦‚æœè‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢ï¼Œæç¤ºç”¨æˆ·
                        alert('è¯·ç‚¹å‡»"å¼€å§‹å§"æŒ‰é’®åï¼Œå†ç‚¹å‡»éŸ³ä¹å›¾æ ‡æ’­æ”¾éŸ³ä¹');
                    });
                }
            });
            
            // é¡µé¢é¦–æ¬¡äº¤äº’æ—¶å°è¯•è‡ªåŠ¨æ’­æ”¾ï¼ˆè§£å†³æµè§ˆå™¨é™åˆ¶ï¼‰
            let hasInteracted = false;
            
            document.addEventListener('click', function firstInteraction() {
                if (!hasInteracted) {
                    hasInteracted = true;
                    // å°è¯•è‡ªåŠ¨æ’­æ”¾éŸ³ä¹
                    audio.play().then(() => {
                        musicIcon.textContent = 'ğŸµ';
                        musicControl.classList.add('playing');
                        isPlaying = true;
                    }).catch(e => {
                        // è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢æ˜¯æ­£å¸¸ç°è±¡
                        console.log('è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢ï¼Œéœ€è¦ç”¨æˆ·æ˜ç¡®äº¤äº’');
                    });
                    
                    // ç§»é™¤äº‹ä»¶ç›‘å¬
                    document.removeEventListener('click', firstInteraction);
                }
            });
            
            // ç›‘å¬éŸ³é¢‘ç»“æŸäº‹ä»¶ï¼Œå®ç°æ— ç¼å¾ªç¯
            audio.addEventListener('ended', function() {
                audio.currentTime = 0;
                if (isPlaying) {
                    audio.play();
                }
            });
            
            // éŸ³é¢‘åŠ è½½é”™è¯¯å¤„ç†
            audio.addEventListener('error', function(e) {
                console.error('éŸ³é¢‘åŠ è½½é”™è¯¯:', e);
                musicIcon.textContent = 'âŒ';
                musicControl.title = 'éŸ³ä¹åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥';
            });
            
            // éŸ³é¢‘åŠ è½½æˆåŠŸ
            audio.addEventListener('canplay', function() {
                console.log('éŸ³é¢‘å¯ä»¥æ’­æ”¾');
            });
        });
    </script>
</body>
</html>
