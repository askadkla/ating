<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link rel="stylesheet" href="css/style.css">
    <script id="jqbb" src="https://libs.baidu.com/jquery/1.11.1/jquery.min.js"></script>
    <style>
        body{margin:0;padding:0;overflow: hidden;} .city{width:100%;position:fixed;bottom:
                0px;z-index: 100;} .city img{width: 100%;}
        audio{
            opacity: 0;
        }
        
        /* æ–°å¢éŸ³ä¹æ§åˆ¶æŒ‰é’®æ ·å¼ */
        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10000;
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        
        .music-control:hover {
            transform: scale(1.1);
            background: rgba(255,255,255,0.3);
        }
        
        .music-icon {
            font-size: 24px;
            color: white;
            transition: all 0.3s ease;
        }
        
        .music-control.playing .music-icon {
            color: #ff6b6b;
        }
        
        .music-tooltip {
            position: absolute;
            top: 60px;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }
        
        .music-control:hover .music-tooltip {
            opacity: 1;
        }
        /* ç¥ç¦è¯­ç½‘æ ¼å®¹å™¨æ ·å¼ */
.blessings-grid {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    padding: 20px;
    z-index: 1000;
    pointer-events: none; /* å…è®¸ç‚¹å‡»ç©¿é€åˆ°ä¸‹æ–¹å…ƒç´  */
}

/* ç¥ç¦è¯­å½¢çŠ¶åŸºç¡€æ ·å¼ */
.shape {
    background: linear-gradient(135deg, rgba(255, 107, 107, 0.9) 0%, rgba(255, 193, 105, 0.9) 100%);
    border-radius: 15px;
    padding: 15px;
    text-align: center;
    color: white;
    font-weight: bold;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    border: 2px solid rgba(255, 255, 255, 0.3);
    animation: float 3s ease-in-out infinite;
    pointer-events: auto; /* å…è®¸å•ç‹¬æ§åˆ¶æ¯ä¸ªç¥ç¦è¯­ */
    backdrop-filter: blur(10px);
    word-break: break-word;
    overflow-wrap: break-word;
}

/* ä¸åŒé•¿åº¦çš„ç¥ç¦è¯­è®¾ç½®ä¸åŒå­—ä½“å¤§å° */
.shape.short {
    font-size: 1.2em;
    min-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.shape.medium {
    font-size: 1.1em;
    min-height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.shape.long {
    font-size: 1em;
    min-height: 100px;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1.4;
}

/* æ¼‚æµ®åŠ¨ç”» */
@keyframes float {
    0%, 100% {
        transform: translateY(0) rotate(0deg);
    }
    50% {
        transform: translateY(-10px) rotate(1deg);
    }
}

/* ä¸ºæ¯ä¸ªç¥ç¦è¯­æ·»åŠ ä¸åŒçš„åŠ¨ç”»å»¶è¿Ÿï¼Œåˆ›é€ æ³¢æµªæ•ˆæœ */
.shape:nth-child(1) { animation-delay: 0s; }
.shape:nth-child(2) { animation-delay: 0.5s; }
.shape:nth-child(3) { animation-delay: 1s; }
.shape:nth-child(4) { animation-delay: 1.5s; }
.shape:nth-child(5) { animation-delay: 2s; }
.shape:nth-child(6) { animation-delay: 2.5s; }
.shape:nth-child(7) { animation-delay: 3s; }
.shape:nth-child(8) { animation-delay: 3.5s; }
.shape:nth-child(9) { animation-delay: 4s; }
.shape:nth-child(10) { animation-delay: 4.5s; }
.shape:nth-child(11) { animation-delay: 5s; }
.shape:nth-child(12) { animation-delay: 5.5s; }
.shape:nth-child(13) { animation-delay: 6s; }
.shape:nth-child(14) { animation-delay: 6.5s; }
.shape:nth-child(15) { animation-delay: 7s; }
.shape:nth-child(16) { animation-delay: 7.5s; }
.shape:nth-child(17) { animation-delay: 8s; }
.shape:nth-child(18) { animation-delay: 8.5s; }
.shape:nth-child(19) { animation-delay: 9s; }
.shape:nth-child(20) { animation-delay: 9.5s; }
.shape:nth-child(21) { animation-delay: 10s; }
.shape:nth-child(22) { animation-delay: 10.5s; }

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .blessings-grid {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 10px;
        padding: 10px;
    }
    
    .shape.short {
        font-size: 1em;
        min-height: 50px;
        padding: 10px;
    }
    
    .shape.medium {
        font-size: 0.9em;
        min-height: 70px;
        padding: 12px;
    }
    
    .shape.long {
        font-size: 0.8em;
        min-height: 90px;
        padding: 12px;
    }
}

@media (max-width: 480px) {
    .blessings-grid {
        grid-template-columns: 1fr;
        gap: 8px;
    }
    
    .shape {
        animation-duration: 4s; /* ç§»åŠ¨ç«¯åŠ¨ç”»æ…¢ä¸€äº› */
    }
}
    </style>
    <title>
        ç”Ÿæ—¥å¿«ä¹
    </title>
    <!-- å¼¹çª—æ ·å¼ -->
    <link href="modal.css" rel="stylesheet"/>

    <style type="text/css">
        html,
        body {
            background-color: black;
            overflow: hidden;
            user-select: none;
            margin: 0;
        }
    </style>
</head>
<body onselectstart="return false">
    <div class="star comet"></div>
    <script src="js/index.js"></script>
  
    <!-- æ–°å¢éŸ³ä¹æ§åˆ¶æŒ‰é’® -->
    <div class="music-control" id="musicControl">
        <div class="music-icon">ğŸµ</div>
        <div class="music-tooltip">ç‚¹å‡»æ§åˆ¶éŸ³ä¹</div>
    </div>

    <!--å¯¹è¯éƒ¨åˆ†-->
    <div class="share_img"><img src="img/xin.png" alt=""></div>

    <div class="page_one">
        <div class="content">
            <div class="text_wrapper">
                <img class="xin" src="img/xin.png" alt="" />
                <div class="text" >
                          é˜¿å©·ï¼Œç”Ÿæ—¥å¿«ä¹ï¼Œæ„¿æ„çœ‹åœºä¸“å±äºä½ çš„çƒŸèŠ±ç§€å—ï¼ï¼ï¼
                </div>
            </div>
        </div>
        <div class="btn-groups">
            <div class="heart-btn">
                <div id="yes" class="btn btn-a"><span>å¼€å§‹å§</span></div>
            </div>
            <div id="no" class="btn btn-b"><span>ä½ èµ°å¼€</span></div>
        </div>
    </div>
    <!--çƒŸèŠ±éƒ¨åˆ†-->
    <canvas id='cas' style="background-color:rgba(0,5,24,1); z-index: 9999;">
        æµè§ˆå™¨ä¸æ”¯æŒcanvas
    </canvas>
    <div class="city">
        <img src="img/city.png" alt="" />
    </div>
    <img src="img/moon.png" alt="" id="moon" style="visibility: hidden;" />
    <div class="blessings-grid">
        <div class="shape short">å®¶äººå¥åº·</div>
        <div class="shape short">äº‹ä¸šé¡ºé‚</div>
        <div class="shape short">ç‹‚åƒä¸èƒ–</div>
        <div class="shape short">è‡ªç”±æš´å¯Œ</div>
        <div class="shape short">å¹³å®‰å–œä¹</div>
        <div class="shape short">å¯å¯çˆ±çˆ±</div>
        <div class="shape short">ä¸‡äº‹èƒœæ„</div>
        <div class="shape short">ä¸€ç›´é™ªä½ </div>
        <div class="shape long">æ„¿æ—¶å…‰å¾…ä½ ä»¥æ¸©æŸ”ï¼Œå²æœˆäºˆä½ ä»¥é™å¥½</div>
        <div class="shape long">å¾€åä½™ç”Ÿï¼Œå¹³å®‰å¥åº·ï¼Œå–œä¹æ— å¿§</div>
        <div class="shape long">æ„¿ä¸€åˆ‡ç¾å¥½éƒ½æ¯”ä½ æ‰€æœŸå¾…çš„ï¼Œè¿˜è¦å¥½ä¸Šä¸€ç‚¹ç‚¹</div>
        <div class="shape long">å¸Œæœ›æ¸©æš–å’Œçˆ±ï¼Œä¸€ç›´é™ªä¼´åœ¨ä½ èº«è¾¹</div>
        <div class="shape medium">æ–°çš„ä¸€å²ï¼Œå‰æ–¹çš†æ˜¯å¦é€”ï¼Œæœªæ¥å……æ»¡å¸Œæœ›</div>
        <div class="shape medium">æ—¶å…‰ä¸è€ï¼Œæˆ‘ä»¬ä¸æ•£ï¼Œæƒ…è°Šå¸¸åœ¨å¿ƒé—´</div>
        <div class="shape medium">æ–°çš„ä¸€å²ï¼Œæ„¿ä½ ä¾æ—§æ¸©æš–å¦‚åˆï¼Œé—ªé—ªå‘å…‰</div>
        <div class="shape medium">æ„¿ä½ åœ¨äº‹ä¸šä¸Šä¹˜é£ç ´æµªï¼Œæ”¶è·æ»¡æ»¡æˆå°±</div>
        <div class="shape medium">æ„¿å¥½è¿å¸¸ä¼´ï¼Œæœºé‡é¢‘ç°ï¼Œæ¢¦æƒ³çš†å¯å®ç°</div>
        <div class="shape medium">æ„¿ä½ äº«å—ç¾é£Ÿæ— å¿§ï¼Œä¿æŒå¥åº·æ´»åŠ›</div>
        <div class="shape long">æ„¿ä½ æœ‰è¯´èµ°å°±èµ°çš„å‹‡æ°”ï¼Œä¹Ÿæœ‰äº«å—æ—…é€”çš„å¿ƒæƒ…</div>
        <div class="shape long">æ„¿ä½ æœ‰èƒ½åšè‡ªå·±çš„è‡ªç”±ï¼Œå’Œæ•¢åšè‡ªå·±çš„èƒ†é‡</div>
        <div class="shape medium">æ„¿ä½ çš„ç”Ÿæ´»å……æ»¡å°ç¡®å¹¸ï¼Œå¯¹æœªæ¥æ°¸è¿œå……æ»¡æœŸå¾…</div>
        <div class="shape medium">æ„¿ç”Ÿæ´»ç»™ä½ æ»¡æ»¡çš„ç”œèœœæƒŠå–œï¼Œå¿«ä¹åŠ å€</div>
    </div>

    <!--éŸ³ä¹éƒ¨åˆ†-->
    <audio id="birthdayMusic" loop>
        <!-- ä½¿ç”¨å¤–éƒ¨æ‰˜ç®¡çš„ç”Ÿæ—¥éŸ³ä¹ -->
        <source src="https://www.bensound.com/bensound-music/bensound-happyrock.mp3" type="audio/mpeg">
        <!-- å¤‡ç”¨éŸ³ä¹æº -->
        <source src="https://assets.mixkit.co/music/preview/mixkit-birthday-happy-3.mp3" type="audio/mpeg">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾
    </audio>

    <script src="jquery.min.js"></script>
    <script src="fire.js"></script>
    <script src="talk.js"></script>

    <!-- æ–°å¢éŸ³ä¹æ§åˆ¶è„šæœ¬ -->
    <script>
        $(document).ready(function() {
            // è·å–éŸ³é¢‘å…ƒç´ å’Œæ§åˆ¶æŒ‰é’®
            const audio = document.getElementById('birthdayMusic');
            const musicControl = document.getElementById('musicControl');
            const musicIcon = musicControl.querySelector('.music-icon');
            
            // åˆå§‹çŠ¶æ€ï¼šéŸ³ä¹æš‚åœ
            audio.pause();
            let isPlaying = false;
            
            // éŸ³ä¹æ§åˆ¶æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            musicControl.addEventListener('click', function() {
                if (isPlaying) {
                    // æš‚åœéŸ³ä¹
                    audio.pause();
                    musicIcon.textContent = 'ğŸ”‡';
                    musicControl.classList.remove('playing');
                    isPlaying = false;
                } else {
                    // æ’­æ”¾éŸ³ä¹
                    audio.play().then(() => {
                        musicIcon.textContent = 'ğŸµ';
                        musicControl.classList.add('playing');
                        isPlaying = true;
                    }).catch(error => {
                        console.log('æ’­æ”¾å¤±è´¥ï¼Œå¯èƒ½éœ€è¦ç”¨æˆ·äº¤äº’:', error);
                        // å¦‚æœè‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢ï¼Œæç¤ºç”¨æˆ·
                        alert('è¯·ç‚¹å‡»"å¼€å§‹å§"æŒ‰é’®åï¼Œå†ç‚¹å‡»éŸ³ä¹å›¾æ ‡æ’­æ”¾éŸ³ä¹');
                    });
                }
            });
            
            // é¡µé¢é¦–æ¬¡äº¤äº’æ—¶å°è¯•è‡ªåŠ¨æ’­æ”¾ï¼ˆè§£å†³æµè§ˆå™¨é™åˆ¶ï¼‰
            let hasInteracted = false;
            
            document.addEventListener('click', function firstInteraction() {
                if (!hasInteracted) {
                    hasInteracted = true;
                    // å°è¯•è‡ªåŠ¨æ’­æ”¾éŸ³ä¹
                    audio.play().then(() => {
                        musicIcon.textContent = 'ğŸµ';
                        musicControl.classList.add('playing');
                        isPlaying = true;
                    }).catch(e => {
                        // è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢æ˜¯æ­£å¸¸ç°è±¡
                        console.log('è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢ï¼Œéœ€è¦ç”¨æˆ·æ˜ç¡®äº¤äº’');
                    });
                    
                    // ç§»é™¤äº‹ä»¶ç›‘å¬
                    document.removeEventListener('click', firstInteraction);
                }
            });
            
            // ç›‘å¬éŸ³é¢‘ç»“æŸäº‹ä»¶ï¼Œå®ç°æ— ç¼å¾ªç¯
            audio.addEventListener('ended', function() {
                audio.currentTime = 0;
                if (isPlaying) {
                    audio.play();
                }
            });
            
            // éŸ³é¢‘åŠ è½½é”™è¯¯å¤„ç†
            audio.addEventListener('error', function(e) {
                console.error('éŸ³é¢‘åŠ è½½é”™è¯¯:', e);
                musicIcon.textContent = 'âŒ';
                musicControl.title = 'éŸ³ä¹åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥';
            });
            
            // éŸ³é¢‘åŠ è½½æˆåŠŸ
            audio.addEventListener('canplay', function() {
                console.log('éŸ³é¢‘å¯ä»¥æ’­æ”¾');
            });
        });
    </script>
</body>
</html>

